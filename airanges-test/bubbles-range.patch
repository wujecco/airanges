cat > bubbles-range.patch <<'PATCH'
diff --git a/public/js/bubbles.js b/public/js/bubbles.js
index 2222222..3333333 100644
--- a/public/js/bubbles.js
+++ b/public/js/bubbles.js
@@ -1,20 +1,28 @@
-// Ranges dostępne do tej pory
-const RANGES = ['day', 'week'];
+// Ranges rozszerzone: hour/day/week/month/year
+const RANGES = ['hour', 'day', 'week', 'month', 'year'];
 
 // ...reszta pliku bez zmian...
 
 // Przykładowe wywołanie fetchu (upewnij się, że używasz parametru range)
 // fetch danych do bąbli:
 async function loadBubbles(range) {
-  const resp = await fetch(`/api/sp500?range=${range}`);
+  const resp = await fetch(`/api/sp500?range=${encodeURIComponent(range)}`);
   const data = await resp.json();
   // ...render bąbli tak jak wcześniej, używając fields: price, changePercent...
 }
 
 // listener zakładek
 document.querySelectorAll('[data-range]').forEach(btn => {
   btn.addEventListener('click', () => {
     const r = btn.getAttribute('data-range');
-    if (!RANGES.includes(r)) return;
+    if (!RANGES.includes(r)) return;
     loadBubbles(r);
   });
 });
PATCH
